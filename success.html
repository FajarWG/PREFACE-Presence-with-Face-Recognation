<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Success Attendance</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./css/selamat.css" />
  </head>
  <body>
    <section id="banner">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6 justify-content-center">
            <h5 id="greeting"></h5>
            <h2 id="message">You've been successfully Presence today</h2>
            <p>Thank you! Have a great day</p>
            <a
              id="content"
              href="index.html"
              class="btn btn-outline-primary mt-3 rounded-3"
              >Back to Home</a
            >
          </div>
          <div class="col-md-6 text-center">
            <img src="./picture/home2.png" class="img-fluid" />
          </div>
        </div>
      </div>
    </section>
  </body>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    let name = urlParams.get("name");
    const already = urlParams.get("already");
    const greeting = document.getElementById("greeting");
    const message = document.getElementById("message");
    const content = document.getElementById("content");
    let hour = new Date().toLocaleTimeString("id-ID", {
      hour: "2-digit",
    });

    let late = 9 - hour;

    if (already != 0) {
      content.insertAdjacentHTML(
        "afterend",
        `
                        <a
                            href="history.html?name=${name}"
                            class="btn btn-outline-primary mt-3 rounded-3"
                            >Check History Presence</a
                        >
                        `
      );
    }

    if (already == 1) {
      message.innerText = `You've been Presence today`;
    } else if (already == 0) {
      name = "Guest";
      message.innerText = `Your face is not registered, please contact the administrator`;
    } else {
      message.innerText = `You've been successfully Presence today, but you're late ${Math.abs(
        late
      )} Hours`;
    }
    greeting.innerText = `Hello, ${name}`;
  </script>
</html>
